/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.1.1/samples
 */

plugins{
   id 'groovy'
}

version = '1.0'
sourceCompatibility = JavaVersion.VERSION_11

repositories{
   mavenCentral()
   maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
}


dependencies {
   // Groovy libs
   testImplementation 'org.codehaus.groovy:groovy:3.0.8'
   testImplementation 'org.codehaus.groovy:groovy-xml:3.0.8'
   testImplementation 'org.codehaus.groovy:groovy-json:3.0.8'

   // JUnit5 platform for spock
   testImplementation group: 'org.junit.platform', name: 'junit-platform-engine', version: '1.8.0-M1'

   // Spock
   //testImplementation platform('org.spockframework:spock-bom:2.0-groovy-3.0')
   testImplementation platform('org.spockframework:spock-bom:2.1-groovy-3.0-SNAPSHOT')
   testImplementation 'org.spockframework:spock-core'
   
   // Logging
   testImplementation 'ch.qos.logback:logback-classic:1.2.3'
   testImplementation 'org.slf4j:jul-to-slf4j:1.7.30'

   // Reports
   testImplementation( 'com.athaydes:spock-reports:2.0-groovy-3.0' ) { transitive = false }
}

test {
   dependsOn = ['clean']
   useJUnitPlatform()
   testLogging {
      events "passed", "skipped", "failed", "standard_out", "standard_error"
   }
   failFast false
   ignoreFailures false
   reports.html.destination = file('build/reports/gradle/')
}
